(this["webpackJsonpmy-movie-list"]=this["webpackJsonpmy-movie-list"]||[]).push([[4],{237:function(e,t,a){"use strict";a.r(t),a.d(t,"Home",(function(){return ve}));var n=a(18),r=a.n(n),o=a(36),i=a(12),c=a(63),l=a(15),s=a(0),m=a.n(s),u=a(226),d=a(227),p=a(167),g=a(29),b=a(45),f=a(176),h=a(193),v=a.n(h),w=a(33),x=a(80),j=a.n(x),O=a(225),y=a(224),E=a(41),k=a(35),C=Object(p.a)((function(e){var t,a,n,r;return{appBar:Object(l.a)({width:"100%",background:"linear-gradient(to bottom, rgba(0,0,0,1) 0%,rgba(0,0,0,0) 100%)",display:"flex",boxShadow:"0px 0px",height:"15rem",flexDirection:"row"},e.breakpoints.down("xs"),{position:"absolute"}),Toolbar:(t={display:"flex",justifyContent:"space-between",alignItems:"center",opacity:1,width:"100%",height:"50%",boxShadow:"0px 0px",flexWrap:"wrap"},Object(l.a)(t,e.breakpoints.down("xs"),{height:"10rem",justifyContent:"space-between"}),Object(l.a)(t,e.breakpoints.down("sm"),{height:"7rem",justifyContent:"space-between"}),Object(l.a)(t,"position","relative"),t),signOut:(a={order:3,width:"8rem"},Object(l.a)(a,e.breakpoints.down("sm"),{width:"7rem"}),Object(l.a)(a,e.breakpoints.down("xs"),{order:1,width:"3rem"}),a),logo:(n={marginTop:"-1rem",order:1,width:"8rem"},Object(l.a)(n,e.breakpoints.down("sm"),{width:"7rem"}),Object(l.a)(n,e.breakpoints.down("xs"),{width:"6rem"}),n),search:(r={position:"absolute",borderRadius:e.shape.borderRadius,width:"20rem",order:2},Object(l.a)(r,e.breakpoints.down("xs"),{order:3,width:"20rem",margin:"auto"}),Object(l.a)(r,"zIndex",100),r)}}));var N=Object(k.compose)(Object(g.b)((function(e){return{selectedMovie:e.movies.selectedMovie}}),(function(e){return{onLogout:function(){return e(w.e())}}})))((function(e){var t=C(),a=Object(E.a)(),n=Object(y.a)(a.breakpoints.between("xs","sm"));return m.a.createElement(O.a,{in:!0,timeout:{enter:500,exit:500}},m.a.createElement(u.a,{className:t.appBar},m.a.createElement(d.a,{className:t.Toolbar},m.a.createElement("img",{className:t.logo,src:j.a,alt:"Logo"}),m.a.createElement(b.b,{to:"/logout",className:t.signOut},m.a.createElement(f.a,{color:"secondary",className:t.signOut},m.a.createElement(v.a,{fontSize:n?"small":void 0})," ",n?null:"Signout")))))})),I=a(180),S=a(228),M=Object(p.a)((function(e){return{modal:{display:"flex",alignItems:"center",justifyContent:"center",color:e.palette.primary.main,outline:0,zIndex:4e3}}})),T={zIndex:4e3};var z=function(e){var t=M();return m.a.createElement("div",{className:t.rootModal},m.a.createElement(I.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",className:t.modal,open:e.modal,onClose:e.close,closeAfterTransition:!0,BackdropComponent:S.a,BackdropProps:{timeout:500},style:T},m.a.createElement(O.a,{in:e.modal},m.a.createElement("span",{className:t.spanModal},e.children))))},L=a(85),R=a(233),A=a(169),B=a(229),G=a(231),D=a(240),F=a(230),P=Object(p.a)((function(e){return{root:{maxWidth:400,margin:".5rem",zIndex:1e4},media:{width:350,height:140,opacity:.5},yourRatings:{zIndex:1e3,color:e.palette.secondary.main},cardActions:{display:"flex",justifyContent:"space-between",position:"relative",marginLeft:0},titleContainer:{opacity:1,backgroundColor:"black"},title:{}}}));function W(e){var t,a,n=P(),r=Object(E.a)();return t=e.movie.title===e.title?{border:".1rem solid red"}:null,a=e.watched?{backgroundColor:r.palette.secondary.light}:null,m.a.createElement(A.a,{className:n.root},m.a.createElement(B.a,{onClick:e.select},m.a.createElement(F.a,{className:n.media,image:"https://image.tmdb.org/t/p/w500".concat(e.poster),title:e.title,movie:e.movie,style:t})),m.a.createElement(G.a,{className:n.cardActions,style:a},m.a.createElement(D.a,{name:"rating",className:n.yourRatings,value:e.rating,precision:.5,readOnly:!0,max:10,size:"small"}),m.a.createElement(f.a,{size:"small",color:"default",onClick:e.remove},"Remove Movie")))}var _=a(178),H=a(181),U=a(183),q=a(239),J=a(179),Y=a(173),Q=Object(p.a)((function(e){return{root:{display:"flex",justifyContent:"center",flexDirection:"column",alignItems:"center",flexGrow:1,marginTop:"2.5rem"},filter:Object(l.a)({display:"flex",justifyContent:"center",alignItems:"flex-end"},e.breakpoints.down("lg"),{marginTop:"2rem"}),gridContainer:{flexGrow:1,marginTop:"2.5rem"},formControl:{margin:e.spacing(1),minWidth:120}}})),V=function(e){var t=Q(),a=null;return a="title"===e.filterSelect?m.a.createElement(H.a,{className:t.formControl,id:"title",label:"Filter by Title",value:e.filterTitle,onChange:e.handleTitleChange}):"genre"===e.filterSelect?m.a.createElement(Y.a,{className:t.formControl},m.a.createElement(U.a,{id:"genre"},"Select Genre"),m.a.createElement(J.a,{labelId:"genre",id:"genre",value:e.filterGenre,onChange:e.handleGenreChange},["Action","Adventure","Animation","Comedy","Crime","Documentary","Drama","Family","Fantasy","History","Horror","Music","Mystery","Romance","Science Fiction","TV Movie","Thriller","War","Western"].map((function(e){return m.a.createElement(q.a,{value:e},e)})))):"",m.a.createElement("div",{className:t.filter},m.a.createElement(Y.a,{className:t.formControl},m.a.createElement(U.a,{id:"filter"},"Select Filter"),m.a.createElement(J.a,{labelId:"filter",id:"filter",value:e.filterSelect,onChange:e.handleSelectChange},m.a.createElement(q.a,{value:"none",name:"none"},"None"),m.a.createElement(q.a,{value:"title",name:"Title"},"Title"),m.a.createElement(q.a,{value:"genre",name:"Genre"},"Genre"),m.a.createElement(q.a,{value:"watched",name:"watched"},"Seen"),m.a.createElement(q.a,{value:"not watched",name:"not watched"},"Not Seen"))),a)},K=a(174),X=Object(p.a)((function(e){return{rootMovieList:{display:"flex",justifyContent:"center",flexDirection:"column",alignItems:"center",flexGrow:1,marginTop:"-5rem",background:"black"},filter:{display:"flex",justifyContent:"center",alignItems:"flex-end"},gridContainer:{flexGrow:1,marginTop:"1rem"},formControl:{margin:e.spacing(1),minWidth:120}}})),Z=Object(g.b)((function(e){return{movies:e.movies.movies,token:e.auth.token,userId:e.auth.userId,selectedMovie:e.movies.selectedMovie}}),(function(e){return{onRemoveFromMovieList:function(t,a){return e(w.g(t,a))},onSetSelectedMovie:function(t){return e(w.i(t))},onSetMovieList:function(t){return e(w.h(t))}}}))((function(e){var t,a=Object(s.useState)(""),n=Object(c.a)(a,2),i=n[0],l=n[1],u=Object(s.useState)(""),d=Object(c.a)(u,2),p=d[0],g=d[1],b=Object(s.useState)(""),f=Object(c.a)(b,2),h=f[0],v=f[1],w=e.movies,x=e.onRemoveFromMovieList,j=e.onSetSelectedMovie,O=e.token,y=X(),E=function(){var e=Object(o.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:x(t,O);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();if(w){var k=Object(L.a)(w);"title"===e.filterSelect?k=k.filter((function(e){return e.title.toLowerCase().includes(i.toLowerCase())})):"genre"===e.filterSelect?p&&(k=w.filter((function(e){return e.genres.some((function(e){return e.name===p}))}))):"not watched"===e.filterSelect?k="not watched"===h?w.filter((function(e){return!0===e.watched})):w.filter((function(e){return!1===e.watched})):"watched"===e.filterSelect&&(k=w.filter((function(e){return!0===e.watched}))),t=k.map((function(t){return m.a.createElement(K.a,{in:!0,key:t.key},m.a.createElement(R.a,{key:t.key,item:!0},m.a.createElement(W,{item:!0,title:t.title,overview:t.overview,rating:t.rating,poster:t.poster_path,remove:function(){return E(t.key)},select:function(){j(t)},key:t.key,movie:e.selectedMovie,watched:t.watched})))}))}else t=null;return m.a.createElement(_.a,{component:"div",className:y.rootMovieList},0!==w.length?m.a.createElement(V,{filterTitle:i,handleTitleChange:function(e){l(e.target.value)},filterGenre:p,handleGenreChange:function(e){g(e.target.value)},filterSelect:e.filterSelect,handleSelectChange:e.handleSelect,handleWatchedChange:function(e){v(e.target.value)},filterWatched:h}):null,m.a.createElement(R.a,{container:!0,className:y.gridContainer,direction:"row",justify:"center",alignItems:"center"},t))})),$=a(235),ee=a(196),te=a.n(ee),ae=a(195),ne=a.n(ae),re=a(238),oe=a(234),ie=Object(p.a)((function(e){var t;return{search:(t={position:"relative",borderRadius:e.shape.borderRadius,width:"20rem",order:2},Object(l.a)(t,e.breakpoints.down("xs"),{order:3,width:"20rem",margin:"auto"}),Object(l.a)(t,"zIndex",3e3),t),searchIcon:Object(l.a)({padding:e.spacing(0,2),height:"100%",position:"absolute",right:20,pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"flex-end",color:e.palette.common.white},e.breakpoints.down("xs"),{right:20}),autoComplete:Object(l.a)({zIndex:10,width:"20rem"},e.breakpoints.down("xs"),{margin:"auto"}),inputRoot:{color:"inherit"},inputInput:Object(l.a)({padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("sm"),{width:"12ch","&:focus":{width:"20ch"}})}})),ce=Object(g.b)(null,(function(e){return{onUpdateMovieModal:function(t){return e(w.j(t))},onSetSelectedMovie:function(t){return e(w.i(t))}}}))((function(e){var t=Object(s.useState)(!1),a=Object(c.a)(t,2),n=a[0],l=a[1],u=Object(s.useState)([]),d=Object(c.a)(u,2),p=d[0],g=d[1],b=Object(s.useState)(),f=Object(c.a)(b,2),h=f[0],v=f[1],w=ie(),x=e.onUpdateMovieModal,j=n&&0===p.length;Object(s.useEffect)((function(){var e=!0;if(h)return Object(o.a)(r.a.mark((function t(){var a,n;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ne()("https://ancient-river-53390.herokuapp.com/http://api.themoviedb.org/3/search/movie?api_key=105094d957931ab7b01705c2f3d2dd58&query=".concat(h));case 3:return a=t.sent,t.next=6,a.json();case 6:(n=t.sent).results.length=5,e&&g(n.results.map((function(e){return e}))),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),alert(t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,11]])})))(),function(){e=!1}}),[j,h]),Object(s.useEffect)((function(){n||g([])}),[n]);var O=function(e,t){e.preventDefault(),t&&x(t.id)},y=function(e){v(e.target.value)};return m.a.createElement("div",{className:w.search},m.a.createElement("div",{className:w.searchIcon},m.a.createElement(te.a,null)),m.a.createElement("form",{onSubmit:O},m.a.createElement(re.a,{className:w.autoComplete,id:"search movies",open:n,onOpen:function(){l(!0)},onClose:function(){l(!1)},popupIcon:!1,autoHighlight:!0,onChange:O,getOptionSelected:function(e,t){return e.name===t.name},getOptionLabel:function(e){return e.title},options:p,loading:j,renderInput:function(e){return m.a.createElement(H.a,Object.assign({},e,{label:"Search movies...",variant:"outlined",onChange:y,value:h,InputProps:Object(i.a)(Object(i.a)({},e.InputProps),{},{endAdornment:m.a.createElement(m.a.Fragment,null,j?m.a.createElement(oe.a,{color:"inherit",size:20}):null,e.InputProps.endAdornment)})}))}})))})),le=(a(198),a(203),Object(p.a)((function(e){var t,a,n,r,o,i,c;return{selectedMovieRoot:(t={width:"100%",height:"57rem",overflow:"hidden",display:"flex",justifyContent:"center",alignItems:"center",position:"relative",backgroundColor:"black"},Object(l.a)(t,e.breakpoints.down("xs"),{height:"auto",marginBottom:"5rem"}),Object(l.a)(t,e.breakpoints.up("lg"),{height:"45rem"}),Object(l.a)(t,e.breakpoints.up("xl"),{height:"65rem"}),t),black:(a={width:"100%",height:"57rem",overflow:"hidden",display:"flex",justifyContent:"center",alignItems:"center",position:"relative",backgroundColor:"black"},Object(l.a)(a,e.breakpoints.down("xs"),{height:"auto"}),Object(l.a)(a,e.breakpoints.up("lg"),{height:"45rem"}),Object(l.a)(a,e.breakpoints.up("xl"),{height:"65rem"}),a),img:{width:"100%",height:"100%"},imgContainer:(n={position:"absolute",opacity:.2,width:"150rem",transform:"translateY(10vw)"},Object(l.a)(n,e.breakpoints.up("xl"),{width:"200rem"}),Object(l.a)(n,e.breakpoints.down("l"),{width:"180rem"}),Object(l.a)(n,e.breakpoints.down("md"),{width:"120rem"}),Object(l.a)(n,e.breakpoints.down("xs"),{width:"90rem",transform:"translateY(0)"}),Object(l.a)(n,"zIndex",0),n),infoContainer:(r={display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",width:"100%",zIndex:1},Object(l.a)(r,e.breakpoints.down("lg"),{marginTop:"9rem"}),Object(l.a)(r,e.breakpoints.down("xs"),{height:"100%",justifyContent:"flex-start",marginTop:"10rem"}),r),ratingsContainer:Object(l.a)({display:"flex",justifyContent:"center",alignItems:"center",marginTop:"1rem"},e.breakpoints.down("xs"),{flexDirection:"column"}),yourRatings:{zIndex:1e3,color:e.palette.secondary.main,margin:e.spacing(1)},audienceStars:{margin:e.spacing(1)},startContainer:Object(l.a)({display:"flex",flexDirection:"column-reverse",justifyContent:"center",alignItems:"center"},e.breakpoints.down("xs"),{marginTop:"10rem"}),ratingText:{margin:"0 0 0 8px"},title:(o={textAlign:"center",textTransform:"uppercase",width:"100%"},Object(l.a)(o,e.breakpoints.down("sm"),{width:"80vw"}),Object(l.a)(o,"zIndex",1),o),description:Object(l.a)({width:"50vw",height:"13rem"},e.breakpoints.down("sm"),{width:"80vw",marginBottom:"3rem",textAlign:"center",height:"auto"}),btn:Object(l.a)({width:"50vw"},e.breakpoints.down("sm"),{width:"80vw"}),search:{marginBottom:"8rem"},tagline:Object(l.a)({},e.breakpoints.down("sm"),{textAlign:"center",width:"80vw"}),gradient:(i={width:"100%",height:"35rem",position:"absolute",top:"39rem",zindex:0,background:"linear-gradient(0deg, rgba(2,0,36,0) 0%, rgba(0,0,0,1) 46%, rgba(0,212,255,0) 100%)"},Object(l.a)(i,e.breakpoints.down("xs"),{top:"25rem"}),Object(l.a)(i,e.breakpoints.up("lg"),{top:"35rem"}),Object(l.a)(i,e.breakpoints.up("xl"),{top:"55rem"}),i),gradientBG:(c={width:"100%",height:"35rem",position:"absolute",top:"43rem",zindex:0,background:"linear-gradient(0deg, rgba(2,0,36,0) 0%, rgba(0,0,0,1) 46%, rgba(0,212,255,0) 100%)"},Object(l.a)(c,e.breakpoints.down("xs"),{top:"30rem"}),Object(l.a)(c,e.breakpoints.up("lg"),{top:"43rem"}),Object(l.a)(c,e.breakpoints.up("xl"),{top:"65rem"}),c),loading:{position:"absolute",left:0,right:0,top:0,bottom:0,margin:"auto"}}})));var se=Object(k.compose)(Object(g.b)((function(e){return{selectedMovie:e.movies.selectedMovie,token:e.auth.token,movieChanged:e.movies.movieChanged,newMovie:e.movies.newMovie,movies:e.movies.movies}}),(function(e){return{onUpdateStarRating:function(t,a,n,r){return e(w.k(t,a,n,r))},onUpdateWatched:function(t,a,n){return e(w.l(t,a,n))}}})))((function(e){var t=Object(s.useState)(!0),a=Object(c.a)(t,2),n=a[0],l=a[1],u=Object(s.useState)(),d=Object(c.a)(u,2),p=d[0],g=d[1],b=Object(s.useState)(!1),h=Object(c.a)(b,2),v=h[0],w=(h[1],le()),x=e.selectedMovie,j=e.onUpdateStarRating,k=e.onUpdateWatched,C=e.movieChanged,N=e.newMovie,I=function(){var t=Object(o.a)(r.a.mark((function t(a,n){var o;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(o=Object(i.a)({},x)).rating=n,j(x.key,e.token,o,n);case 3:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),S=function(){var t=Object(o.a)(r.a.mark((function t(){var a;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(a=Object(i.a)({},x)).watched=!a.watched,k(x.key,a,e.token);case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),M=m.a.createElement(m.a.Fragment,null,m.a.createElement("div",{className:w.imgContainer,style:{opacity:1}},m.a.createElement("img",{src:"https://images.unsplash.com/photo-1489599849927-2ee91cede3ba?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1950&q=80",className:w.img,alt:"backgroundImage"}),m.a.createElement("div",{className:w.gradientBG})),m.a.createElement(_.a,{component:"div",className:w.startContainer},m.a.createElement($.a,{variant:"h1",component:"h2",color:"secondary",gutterBottom:!0,className:w.title},"Start building your Movie List!")));Object(s.useEffect)((function(){if("first load"===C)g(x);else if(C){if(N)l(!1),function(){var e=Object(o.a)(r.a.mark((function e(t){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,function(){return new Promise((function(e,a){var n=new Image;n.src="https://image.tmdb.org/t/p/original".concat(t.backdrop_path),n.onLoad=e(),n.onError=a();var r=new Image;r.src="https://image.tmdb.org/t/p/original".concat(t.poster_path),r.onLoad=e(),r.onError=a()}))};case 2:return a=e.sent,e.next=5,Promise.resolve(a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(x),setTimeout((function(){g(x),setTimeout((function(){l(!0)}),300)}),600);else l(!1),setTimeout((function(){g(x),setTimeout((function(){l(!0)}),200)}),600)}}),[x,C,N]);var T=Object(E.a)(),z=Object(y.a)(T.breakpoints.down("md"));if(p){var L="https://image.tmdb.org/t/p/original".concat(p.backdrop_path);M=m.a.createElement(m.a.Fragment,null,m.a.createElement(_.a,{component:"div",className:w.infoContainer},m.a.createElement($.a,{variant:"h2",component:"h2",color:"secondary",className:w.title},p.title),m.a.createElement($.a,{variant:"h4",color:"textSecondary",gutterBottom:!0,className:w.tagline},p.tagline),m.a.createElement($.a,{variant:"h5",color:"textPrimary",gutterBottom:!0,className:w.description},p.overview),p.watched?m.a.createElement(f.a,{color:"secondary",variant:"contained",onClick:S,className:w.btn,size:z?"small":"large"},"seen"):m.a.createElement(f.a,{color:"primary",variant:"contained",onClick:S,className:w.btn,size:z?"small":"large"},"not seen"),m.a.createElement("div",{className:w.ratingsContainer},m.a.createElement(_.a,{component:"div",className:w.ratingContainer},m.a.createElement($.a,{variant:"h5",color:"textSecondary",className:w.ratingText},"AUDIENCE RATING:"),m.a.createElement(D.a,{className:w.audienceStars,name:"rating",value:p.vote_average,precision:.5,onChange:I,max:10,readOnly:!0,size:z?"small":"medium"})),m.a.createElement(_.a,{component:"div",className:w.ratingContainer},m.a.createElement($.a,{variant:"h5",color:"textSecondary",className:w.ratingText},"YOUR RATING:"," "),m.a.createElement(D.a,{name:"rating",className:w.yourRatings,value:p.rating,precision:.5,onChange:I,disabled:!p.watched,max:10,size:z?"small":"medium"})))),m.a.createElement("div",{className:w.imgContainer},m.a.createElement("img",{src:L,className:w.img,alt:"backgroundImage"}),m.a.createElement("div",{className:w.gradient})))}return m.a.createElement(_.a,{className:w.black},m.a.createElement(O.a,{in:n,timeout:{enter:1e3,exit:700}},m.a.createElement(_.a,{className:w.selectedMovieRoot},v?m.a.createElement(oe.a,{className:w.loading}):M)))})),me=a(48),ue=function(e,t){return function(a){var n=function(e){var t=Object(s.useState)(!1),a=Object(c.a)(t,2),n=a[0],r=a[1],o=e.interceptors.request.use((function(e){return r(!1),e})),i=e.interceptors.response.use((function(e){return e}),(function(e){r(e)}));Object(s.useEffect)((function(){return function(){e.interceptors.request.eject(o),e.interceptors.response.eject(i)}}),[o,i,e.interceptors.request,e.interceptors.response]);return[n,function(){r(!1)}]}(t),r=Object(c.a)(n,2),o=r[0],i=r[1];return m.a.createElement(m.a.Fragment,null,m.a.createElement(z,{modal:o,onClose:i},o?o.message:null),m.a.createElement(e,a))}},de=a(236),pe=a(204),ge=a.n(pe),be=Object(p.a)((function(e){var t,a;return{root:(t={display:"flex",maxWidth:"70rem",height:"40rem",position:"relative"},Object(l.a)(t,e.breakpoints.between("sm","md"),{height:"37rem",width:"45rem"}),Object(l.a)(t,e.breakpoints.down("xs"),{height:"37rem",width:"20rem",flexDirection:"column",justifyContent:"flex-end",alignItems:"center"}),t),details:{display:"flex",zIndex:1},content:{display:"flex",flexDirection:"column",flex:"5",zIndex:1},cover:Object(l.a)({flex:"1 0 40%",display:"flex",justifyContent:"center",alignItems:"center"},e.breakpoints.down("xs"),{width:"9rem",flex:"none"}),tagline:Object(l.a)({flex:"3 3 90%",zIndex:1,overflow:"auto"},e.breakpoints.down("xs"),{width:"rem",flex:"none",maxHeight:"13rem",minHeight:"12rem"}),overview:Object(l.a)({paddingRight:"5rem",marginTop:"1rem"},e.breakpoints.down("xs"),{paddingRight:"3rem"}),ratingsContainer:{display:"flex",zIndex:1},bottomContainer:{display:"flex",justifyContent:"space-between",flexWrap:"wrap",alignItems:"center",zIndex:1},button:{marginTop:"1rem",zIndex:1},title:{textTransform:"uppercase"},rating:Object(l.a)({paddingTop:".5rem",marginLeft:".3rem",zIndex:1},e.breakpoints.down("xs"),{paddingTop:".3rem"}),genresList:(a={width:"50%"},Object(l.a)(a,e.breakpoints.down("xs"),{width:"100%"}),Object(l.a)(a,"zIndex",1),a),runTimeContainer:{alignSelf:"flexend",zIndex:1},close:{position:"absolute",right:1,top:1,"&:hover":{cursor:"pointer"}}}})),fe=function(e){var t=be(),a=e.moviePoster,n=e.genres,r=e.checkMovieAdded,o=Object(E.a)(),i=Object(y.a)(o.breakpoints.down("xs")),c=null;a||(c=m.a.createElement($.a,{variant:"h5",color:"textSecondary",gutterBottom:!0},"No poster available"));var l=n.map((function(e){return e.name+" "}));return m.a.createElement(A.a,{className:t.root},i?m.a.createElement("img",{className:t.cover,src:a,alt:"No poster available"}):null,m.a.createElement(ge.a,{onClick:e.close,color:"secondary",className:t.close,fontSize:i?"medium":"large"}),m.a.createElement("div",{className:t.details},m.a.createElement(de.a,{className:t.content},m.a.createElement("div",{className:t.tagline},m.a.createElement($.a,{variant:i?"h4":"h3",color:"secondary",className:t.title},e.title),m.a.createElement($.a,{variant:i?"h5":"h4",color:"textSecondary",gutterBottom:!0},e.tagline),m.a.createElement($.a,{variant:"subtitle2",color:"textPrimary",gutterBottom:!0,className:t.overview},e.overview)),m.a.createElement("div",{className:t.bottomContainer},m.a.createElement($.a,{variant:"h5",color:"textSecondary",className:t.genresList},l),m.a.createElement("div",{className:t.runTimeContainer},m.a.createElement($.a,{variant:"h5",color:"textSecondary",gutterBottom:!0,display:"inline"},"Runtime:"),m.a.createElement($.a,{variant:"h5",color:"textPrimary",gutterBottom:!0,display:"inline"},"\xa0\xa0",e.runTime," mins")),m.a.createElement("div",{className:t.ratingsContainer},m.a.createElement($.a,{variant:"h5",color:"secondary"},"Rating:"),m.a.createElement(D.a,{className:t.rating,name:"rating",value:e.voteAverage,precision:1,max:10,readOnly:!0,size:"small"})),m.a.createElement(f.a,{variant:"contained",color:"secondary",onClick:e.addMovie,disabled:r,className:t.button,size:i?"small":"medium"},"add to list")))),i?null:m.a.createElement(F.a,{className:t.cover,image:a,src:"No poster available"},c))},he=Object(p.a)((function(e){var t;return{rootHome:{display:"flex",flexDirection:"column",position:"relative"},loading:{width:"100%",height:"80rem",display:"flex",justifyContent:"center",alignItems:"center"},wheel:{height:"20rem",width:"20rem"},searchContainer:(t={position:"absolute",top:26,left:0,right:0,margin:"auto",display:"flex",justifyContent:"center",alignItems:"center"},Object(l.a)(t,e.breakpoints.down("md"),{top:25}),Object(l.a)(t,e.breakpoints.down("sm"),{top:20}),Object(l.a)(t,e.breakpoints.down("xs"),{top:80}),t)}}));function ve(e){var t=Object(s.useState)(!0),a=Object(c.a)(t,2),n=a[0],l=a[1],u=Object(s.useState)(""),d=Object(c.a)(u,2),p=d[0],g=d[1],b=he(),f=e.onSetMovieList,h=e.token,v=e.userId,w=e.onModalToggle,x=e.onAddToMovieList,j=e.searchedMovie,O=e.movies,y=e.modal,E=e.movieChanged,k=function(){w()},C=function(){var e=Object(o.a)(r.a.mark((function e(t){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.map((function(e){return new Promise((function(t,a){var n=new Image;n.src="https://image.tmdb.org/t/p/original".concat(e.backdrop_path),n.onLoad=t(),n.onError=a();var r=new Image;r.src="https://image.tmdb.org/t/p/original".concat(e.poster_path),r.onLoad=t(),r.onError=a()}))}));case 2:return a=e.sent,e.next=5,Promise.all(a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(s.useEffect)((function(){"first load"===E&&Object(o.a)(r.a.mark((function e(){var t,a,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t="?auth="+h+'&orderBy="userId"&equalTo="'+v+'"',e.next=4,me.a.get("/movies.json"+t);case 4:a=e.sent,n=Object.entries(a.data).map((function(e){return e[1].key=e[0],e[1]})),f(n),C(n),setTimeout((function(){l(!1)}),700),e.next=13;break;case 11:e.prev=11,e.t0=e.catch(0);case 13:case"end":return e.stop()}}),e,null,[[0,11]])})))()}),[f,h,v,E]);var I=null;j&&j.poster_path&&(I="https://image.tmdb.org/t/p/w500".concat(j.poster_path));var S=m.a.createElement("div",{className:b.loading},m.a.createElement(oe.a,{color:"secondary"})),M=!1;return O&&j&&(M=O.some((function(e){return e.id===j.id}))),n||(S=m.a.createElement("div",{className:b.rootHome},m.a.createElement("div",{className:b.searchContainer},m.a.createElement(ce,null)),m.a.createElement(N,null),m.a.createElement(se,null),m.a.createElement(Z,{handleSelect:function(e){return function(e){g(e.target.value)}(e)},filterSelect:p}),j?m.a.createElement(z,{modal:y,close:k},m.a.createElement(fe,{addMovie:function(){var e=Object(i.a)({},j);e.userId=v,x(e,h),g("")},moviePoster:I,runTime:j.runtime,genres:j.genres,checkMovieAdded:M,title:j.title,tagline:j.tagline,overview:j.overview,voteAverage:j.vote_average,close:k})):null)),m.a.createElement(m.a.Fragment,null,S)}t.default=Object(k.compose)(Object(g.b)((function(e){return{movies:e.movies.movies,token:e.auth.token,userId:e.auth.userId,modal:e.movies.modal,searchedMovie:e.movies.searchedMovie,movieChanged:e.movies.movieChanged}}),(function(e){return{onRemoveFromMovieList:function(t,a){return e(w.g(t,a))},onSetSelectedMovie:function(t){return e(w.i(t))},onSetMovieList:function(t){return e(w.h(t))},onModalToggle:function(){return e(w.f())},onAddToMovieList:function(t,a){return e(w.a(t,a))}}})))(ue(ve,me.a))}}]);
//# sourceMappingURL=4.a63cede7.chunk.js.map